---
title: 数据类型
date: 2019-04-26 10:36:06
---

## C 中的数据类型

> C 的数据类型主要分为 基本类型（属于算术类型，包含整数类型和浮点类型）、枚举类型（属于算术类型,只能赋予其一定的离散整数值的变量）、void 类型、派生类型（指针、数组、结构、共用体、函数）。

#### 整数类型

| 类型           | 大小      | 范围                                           |
| -------------- | --------- | ---------------------------------------------- |
| char           | 1byte     | -128~127 \| 0~255                              |
| unsigned char  | 1byte     | 0~255                                          |
| int            | 2\|4bytes | -32,768~32,767 \| -2,147,483,648~2,147,483,647 |
| unsigned int   | 2\|4bytes | 0~65,535 \| 0~ 4,294,967,295                   |
| short          | 2 bytes   | -32,768~32,767                                 |
| unsigned short | 2 bytes   | 0~65,535                                       |
| long           | 4bytes    | -2,147,483,648~2,147,483,647                   |
| unsigned long  | 4bytes    | 0 到 4,294,967,295                             |

#### 浮点类型

| 类型        | 大小   | 范围                  | 精度      |
| ----------- | ------ | --------------------- | --------- |
| float       | 4byte  | 1.2E-38 ~ 3.4E+38     | 6 位小数  |
| double      | 8byte  | 2.3E-308 ~ 1.7E+308   | 15 位小数 |
| long double | 10byte | 3.4E-4932 ~ 1.1E+4932 | 19 位小数 |

#### void 类型

> void 类型常被用于一下几种情况。

1. 函数返回为空
2. 函数参数为空
3. 指针指向 void

#### 派生类型

> 派生类型包括指针、数组、结构、共用体、函数。
> 指针类型的变量存储的是当前变量的内存地址， 使用 \*name 的表示， 普通的变量可以使用 & 获取内存地址。
> 数组类型的变量占用一块连续地址的内存， 可以通过对内存地址操作(地址+1)获取数组中的值。
> 结构体使用 struct 定义， 可以定义一个新的组合类型，类似于 ts 中的 interface ， struct 还有很多其他的用途，例如定义 位域（可以对每个成员设置占用的位的长度）。
> 共用体使用 union 定义， C 是一种强类型的语言， 变量需要声明类型， 声明之后该内存只会存储该类型的值， 共用体则可以定义多个类型， 但实际上共用体的内存地址是不变的， 每次修改类型或者值时， 前面的类型和值总是会被后面的赋值所覆盖。

> C 虽然是强类型， 但是在计算或者比较的时候也是会有类型转换的， 例如在做字符串的比较或者运算的时候， 但是最终存储的值是当时该变量声明的类型。

## JAVA 中的数据类型

> JAVA 中的数据类型分为内置数据类型和引用数据类型。

#### 内置数据类型

> Java 语言提供了八种基本类型。六种数字类型（四个整数型，两个浮点型），一种字符类型，还有一种布尔型。

1. byte 数据类型是 8 位、有符号的，以二进制补码表示的整数；最小值是-128（-2^7）；最大值是 127（2^7-1）；

2. short 数据类型是 16 位、有符号的以二进制补码表示的整数； 最小值是-32768（-2^15）；最大值是 32767（2^15 - 1）；

3. int 数据类型是 32 位、有符号的以二进制补码表示的整数；

4. long 数据类型是 64 位、有符号的以二进制补码表示的整数；

5. float 数据类型是单精度、32 位、符合 IEEE 754 标准的浮点数；

6. double 数据类型是双精度、64 位、符合 IEEE 754 标准的浮点数；浮点数的默认类型为 double 类型；

7. boolean 数据类型表示一位的信息；

8. char 类型是一个单一的 16 位 Unicode 字符；最小值是’\u0000’（即为 0）；最大值是’\uffff’（即为 65,535）；

#### 引用数据类型

> 包含对象、数组等类型

## JS 中的数据类型

> JS 中的基本数据类型（原始类型）： string number boolean undefined null symbol ， 这些基本类型都属于值引用类型 ， 而像数组、对象、Map 等都属于地址引用类型。对比其他语言也都有值引用和地址引用的概念。

对于 JS 中的数据在进行算术运算或者是比较操作的时候， 如果比较的是对象会先调用 ToPrimitive 转成原始类型，ToPrimitive 对应逻辑调用的转换方法顺序： valueOf ， toString 。 如果调用了转换方法还是无法转成原始类型时则会报错。==比较时需要注意操作符的优先级。==

### JS 中的 true & false

> js 中的 true 和 false 比较特殊， 一般语言中 true 和 false 代表的就是 boolean 中的值， 但是在 js 中在判断其他数据类型的 _真假_ 时， 会对该类型进行转换。
> 相等和不相等操作符遵循下列基本规则:

- 如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值——false 转换为 0，而 true 转换为 1；
- 如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值；
- 如果一个操作数是对象，另一个操作数不是，则调用对象的 toPrimitive 方法， 将对象转成原始值再进行比较。toPrimitive 逻辑：
- - 如果已经是原始类型了，那就不需要转换了；
- - 调用 x.valueOf()，如果转换为基础类型，就返回转换的值；
- - 调用 x.toString()，如果转换为基础类型，就返回转换的值；
- - 如果都没有返回原始类型，就会报错；

- NaN 不等于 NaN
- null == undefined

| 数据类型  | 布尔值                              |
| --------- | ----------------------------------- |
| undefined | false                               |
| null      | false                               |
| 数字      | +0、-0、NaN 为 false ， 其余为 true |
| 字符串    | 空字符串为 false ，其余为 true      |
| 对象      | true                                |
| 数组      | true                                |

不同类型比较结果：

| 类型 x       | 类型 y    | 结果                |
| ------------ | --------- | ------------------- |
| null         | undefined | true                |
| 数字         | 字符串    | x == toNumber(y)    |
| 任意类型     | 布尔值    | x == toNumber(y)    |
| 字符串或数字 | 对象      | x == toPrimitive(y) |
